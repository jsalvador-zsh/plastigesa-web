---
import products from "../config/products.json";
import ArrowRightIcon from "../icons/ArrowRight.astro";
---

<section id="productos" class="bg-white dark:bg-gray-900">
    <div class="py-8 px-4 mx-auto max-w-screen-xl text-center lg:py-16">
        <div class="mb-8">
            <h2 class="bottom-element mb-8 text-3xl font-extrabold text-center tracking-tight leading-none text-gray-900 md:text-4xl lg:text-5xl dark:text-white">Línea de productos</h2>
            <p  class="bottom-element mb-8 text-lg font-normal text-gray-500 lg:text-xl sm:px-16 lg:px-48 dark:text-gray-200 text-pretty"
            >Ofrecemos los mejores productos en plásticos, como bolsas, mangas y cintas.</p>
        </div>
        <div class="glide mb-8 bottom-element">
            <div class="glide__track" data-glide-el="track">
                <ul class="glide__slides flex space-x-4">
                     {
                        products.slice(0,6).map( product => (
                            <li class="glide__slide">
                                <div class="card mx-auto bg-white border border-gray-200 rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700 w-80 h-96 cursor-auto">
                                    <img src={product.image} alt={product.description} class="w-full h-full object-cover" loading="lazy" />
                                    <div class="content bg-white dark:bg-gray-800">
                                        <h3 class="uppercase dark:text-white">{product.title}</h3>
                                        <p class="dark:text-white">{product.description}</p>
                                    </div>
                                </div>
                            </li>
                        ))
                    }
                </ul>
            </div>
        </div>
        <a class="bottom-element text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800" href="products">
            Ver más
            <ArrowRightIcon class="w-6 h-6 inline-block ml-2" />
        </a>     
    </div>
</section>
<script>
    declare var Glide: any;
    new Glide(".glide", {
        type: "carousel",
        autoplay: 2500,
        perView: 3,
        gap: 20,
        breakpoints: {
            1024: {
                perView: 3,
            },
            992: {
                perView: 2,
            },
            640: {
                perView: 1,
            },
        },
    }).mount();
</script>
